{"sections":[{"title":"類 Predicting Trends of Stock Prices with Text Classification Techniques  ","paragraphs":["Jiun-Da Chen Tai-Ping Wang 劉麟 Chao-Lin Liu","立 理理 立 Department of Computer Science","Department of Information Management","Department of","Computer Science","National Chengchi University Aletheia University National Chengchi University","g9414@cs.nccu.edu.tw tpwang@email.au.edu.tw chaolin@nccu.edu.tw    不f ddd不 來d更 略f d類來f 類d易ek d 了d類e料度e 料度來fd類 率類異f 利類\"\"類\"\"d 類良d行參f"]},{"title":"Abstract","paragraphs":["Stocks' closing price levels can provide hints about investors' aggregate demands and aggregate supplies in the stock trading markets. If the level of a stock's closing price is higher than its previous closing price, it indicates that the aggregate demand is stronger than the aggregate supply in this trading day. Otherwise, the aggregate demand is weaker than the aggregate supply. It would be profitable if we can predict the individual stock's closing price level. For example, in case that one stock's current price is lower than its previous closing price. We can do the proper strategies(buy or sell) to gain profit if we can predict the stock's closing price level correctly in advance. In this paper, we propose and evaluate three models for predicting individual stock's closing price in the Taiwan stock market. These models include a naïve Bayes model, a k-nearest neighbors model, and a hybrid model. Experimental results show the proposed methods perform better than the NewsCATS system for the \"UP\" and \"DOWN\" categories. jd易dk df Keywords: Stock Price Prediction, naïve Bayesian models, kNN models, hybrid models. "]},{"title":"e論 ","paragraphs":["令d f[11]來 [6][8][12]fd 不fd歷 料d來來i不 度dee... f d易來i 料d來 f更略 量i略dd易 力量d更fd了 略 參 d [13][14][17][18][21]f 料[15]d行理 料dfd d [14][17][21]fd類來 行dd 率類異d 行參f 來 i料d類來 d易 行參f 不類來立d易 ek fd料理 來行i 類來料d d類類行f 料練料料兩類d利練料來練類d 料來類f料d 類來行 f 不d 易ek 率d類異f利 類\"\"類\"\"d類 良d行參f dd說d料 來f說f 論d料行d 論f"]},{"title":"e ","paragraphs":["說料來f "]},{"title":"e數","paragraphs":["Wuthrich [21] 易數 (Dow Jones Industrial Average, Financial Times 100 Index, Nikkei225, Hang Seng Index, Straits Times Index)來 行數i易 d利立料d 利力 行 數f率(Accuracy)d Wuthrich 易數 率 43.6%i易零d易 數 率 5.9%d Wuthrich 率 20.8%f "]},{"title":"e","paragraphs":["Gidófalvi[14]d 易 力(window of influence)dd 力 20 fGidófalvi 料 料d易類(naïve Bayesian text classifier)來易 來行類dfGidófalvi 類: (Up)e不(Unchanged)e (Down)d類來立度 f Mittermayer[17]d NewsCATS(News Categorization and Trading System)行 類 d 略f NewsCATS 略 略更d率 0%d NewsCATS 率 0.11%fMittermayer NewsCATS 類 更來行f "]},{"title":"e理 ","paragraphs":["列兩[9]j(Dictionary-Based Approach) (Statistical Approach)f立d 行ddf 量d參數d參數d 參數率d率d 來f理i 識來行句理f"]},{"title":"e ","paragraphs":["說eed易ek 類f "]},{"title":"e ","paragraphs":["類來立 d易行參f例來 說d若d易若 易dd若 d利if 1 f不類來立 fd料理 來行i類來料d d類類行f 料練料料兩類d利練料來練類d料 來類f料d 類來 行 f   料","料 料料 練 料","練類  類 1. "]},{"title":"e類 ","paragraphs":["類(classification)[15][19]類類料 不來 料類f 類 練料來類 d類練便類料行類立 料類f類d不類 類d易(naïve Bayes models)[15][20]ek (kNN models)[15][20](hybrid models)df"]},{"title":"1e易 ","paragraphs":["易理#BZFT UIFPSFNdQSJPS QSPCBCJMJUZe 率QPTUFSJPS QSPCBCJMJUZ來 類 料 類率 類 f易練料來立類率d 料類率d率類 料類f說f","Yd 類 L d類f1$"]},{"title":"{","paragraphs":["kCCC ,...,, 21"]},{"title":"}","paragraphs":["e1$ene1$L率d 1Y f"]},{"title":"∑","paragraphs":["= = k i iCxPxP 1 )()( I nnnnnnnnnnnnnnnnnn 率DPOEJUJPOBM QSPCBCJMJUZYd類$J 率1$J]Yd f )( )( )|( xP","xCP xCP i","i","I = nnnnnnnnnnnnnnnnn 率Yd類$J率d1$J]Yd f )( )|()( )( )( )|( xP CxPCP xP","xCP xCP iii","i • == I nnnnnnnnn 立 d類$),...,,( 21 dxxx Jd 率 f"]},{"title":"∏","paragraphs":["= = d j ij CxPxxP 1id21 )|()C|x,...,,( nnnnnnnnnnn d L 類d E 易類d f"]},{"title":"∑ ∏ ∏","paragraphs":["= = = ⎟⎟ ⎠ ⎞ ⎜⎜ ⎝ ⎛ • • = k i d j iji d j iji di CxPCP CxPCP xxxCP 1 1 1 21 )|()( )|()( ),...,,|( nnnnnn *( *OGPSNBUJO (BJOe(BJO 3BUJPe (JOJJOEFYe離度量%JTUBODF .FBTVSFe+NFBTVSFe( e e度 .-1e0SUPHPOBMJUZ.FBTVSFe3FMJFGnd不度量不類d 度IJHIMZCSBODIJOHBUUSJCVUFTf 來d 來 不 d更來類ff &OUSPQZ念來d 類量類量d來 <><>d f&Y 料d )&Y類d)&Y]B B 不f )|()(),( aExHExHaExIG −= nnnnnnnnnnnnn d易 L 料行 理d E 來f E 料行來d 數量來異d e 數量d 來 E d聯料例d聯 d料來 :BIPP料d料 年 年 d料來 :BIPP料d 料理 dd 數量d 異不d d聯料 E i 料 E f 兩d5SVF’BMTFd 立fd d若 df 類數d類e類類d練料 類率d1$e1$1$i 類J YJ 率d1YJ ]$e1YJ]$e1YJ]$e1YJ]$e1YJ]$ e1YJ ]$fd類 零率d率 率零 論率率零d 數 數1 來零率 <>f 類YYnYE料d 來 類 率d1$] YYnYEe1$] YYnYE1$] YYnYEd 類類 率類dd df"]},{"title":"2ek","paragraphs":["L L 類 L// L/FBSFTU /FJHICPS \"MHPSJUIN<>f類類d 類f若量來d類 離f類料d練料 料d類來類料類 類fd數若來 類不fd見 L 料d L 類來行d來類d L 類d L 來類d L d料f L L 類來練料料離 L d L 類類數d類 料類d數料類 L 類數類f 離里離&VDMJEFBO EJTUBODF<>d O 量兩 e),...,( 21 npppP = ),...,,( 21 nqqqQ = d里離 f"]},{"title":"∑","paragraphs":["= −= n i iiEuclidean qpD 1 2 )( nnnnnnnnnnnnnnn Ld料行5’*%’理 立dEd E量dE量fd 類YYnYE料d練 料離d L料d數 類料類f"]},{"title":"3e ","paragraphs":["易 k d 料類來 行類f說f 料來類d料易 類率率dCiCjfd 類率類兩率例∆p d∆p( 8)f },...,,{, )( )()( 21 kji i ji CCCCC CP","CPCP","P ∈− =∆ d .....................( 8) ∆pd易率類(Ci)率 類(Cj)料不d說料類不 類Cid料Cj類率不fd∆p dk來料行類i∆p d易來料行類d見 9f ⎩⎨⎧ ≤∆ >∆ = d若 d易若  kP P   ε ε ...............( 9) d易類 率類d類率d 類率類d f"]},{"title":"e ","paragraphs":["料來eedf "]},{"title":"e料來 ","paragraphs":["d類類 類來行d 料料d料(聯料e 料e料e立料)d 747 料f 料來 Yahoo!料[1]d料 95 年 9 96 年 4 i 料來 易 料 [4][10]f 不料 d來易ek d不料不 異度fd(3-fold cross-validation)[20]來d 料切d 料練料d料料d 料率率i練e料輪流d行 3 d 料料d數f "]},{"title":"e ","paragraphs":["率(Precision)e率(Recall)e F-measure 來 [19]fj TPj類d類類數 FPj類d類類數f TNj類d類類數f FNj類d類類數f 率類類ddf FPTPTP Precision — ...................................................( 10) 率類類df FNTPTP Recall — ......................................................\\( 11) F-measure 率率兩d見 12d α 來 F-measure 率e率度參數d d F-measure α 1d率率 F-measure 力度f 0d","RecallPrecision RecallPrecision)1(","measure-F ≥","+• ••+","= α α","α α ..................( 12) d類類\"\"e\"\"來離 d類來類異度 [5]f 類類\"\"e類\"\"e類\"\"類 率e率 F-measure d來量 dd行 參d 13e 14e 15 f }\"\",\"\",\"{\"d 3 Precision 3","1 類類 類 精率 =="]},{"title":"∑","paragraphs":["= ii i ............( 13) }\"\",\"\",\"{\"d 3 Recall 3","1 類類 類 率 =="]},{"title":"∑","paragraphs":["= ii i ...............( 14) }\"\",\"\",\"{\"d 3 measure-F 3","1 measure-F 類類 類 =="]},{"title":"∑","paragraphs":["= ii i ......( 15) 類\"\"e\"\"類\"\"類\"\"兩類率e 率 F-measure d來量利 類\"\"類\"\"兩類d類\"\" 類\"\"兩類d了行 d更利d 16e 17e 18 f }{ 2 Precision 2","1 d類e類 類 精率 =="]},{"title":"∑","paragraphs":["= ii i .........( 16) }{ 2 Recall 2","1 d類e類 類 率 =="]},{"title":"∑","paragraphs":["= ii i ............( 17) }{ 2 measure-F 2","1 measure-F d類e類 類 =="]},{"title":"∑","paragraphs":["= ii i ...( 18) 類來量類異度d類 類d行參 fd若類類落d 易類d d 不 行 參 f類d類d 類 類f 類 19e 20e 21 f }\"\",\"\",\"{\" 3 )PrecisionPrecision( 3 1=i i Precision d類 類 類類 =="]},{"title":"∑","paragraphs":["i ......( 19) }\"\",\"\",\"{\" 3 )RecallRecall( 3 1=i i Recall d類 類 類類 =="]},{"title":"∑","paragraphs":["i ......( 20) }\"\",\"\",\"{\" 3 )measure-Fmeasure-F( 3 1=i i measure-F d類 類 類類 =="]},{"title":"∑","paragraphs":["i ......( 21) "]},{"title":"e NewsCATS ","paragraphs":["來行 fdd 行d Mittermayer f Mittermayer NewsCATS f NewsCATS 異d類\"\" 率 98%d類\"\"e\"\"率 5% 6%d 類\"\"f NewsCATS 類\"\"來參d更 利類\"\"類\"\"兩類dNewsCATS 不 參f Mittermayer 不dj不e 不e不...異f Mittermayer 料類dd NewsCATS 來 f行d NewCATS 來 NewsCATS d易ek 來行f NewsCATS NewsCATS 來f "]},{"title":"e ","paragraphs":["d不不 異度d不料 f料d聯料e 料e料e立料f 1 聯料e料e料立料 易ek 參數f 1. 不料參數 料 數 料 料數 聯料 k= 1 = 20% 4 197 料 k= 1 = 10% 5 187 料 k= 1 = 90% 7 291 立料 k= 7 = 90% 5 72 聯料e料e料立料 不 料行 f料d類e類\"\"e \"\"類來易ek e NewCATS i類 d類\"\"e\"\"利類\"\"類 \"\"d類類 異度f 2e 3 4 d聯料e料e料 立料易率e率 F-measure d NewsCATS 欄數料 NewsCATS d料 NewsCATS f d類來d了 料率 F-measure NewsCATS 2.66% 0.61%d 料 NewsCATS f 利類\"\"類\"\"類\"\"e\"\"d 聯料e料e料立料 料 NewsCATS id率 NewsCATS 9.71% 33.00%d率 NewsCATS 7.28% 32.61%dF-measure NewsCATS 17.45% 27.36%f 類來料易類 異度d數 NewsCATS 類異度 d不行參f 2. 不料易率 率(%)","聯 料  料  料 立 料"," NewsCATS","類\"\" 49.24 73.81 53.03 24.07 80.41 類\"\" 47.87 39.17 34.39 62.50 11.48 類\"\" 45.70 44.62 24.44 42.93 27.95 類 47.60 52.53 37.29 43.17 39.95 類\"\"e\"\" 46.79 41.89 29.42 52.71 19.71 類 1.79 18.63 14.51 19.21 39.24 3. 不料易率 率(%)","聯 料  料  料 立 料"," NewsCATS 類\"\" 49.54 18.67 33.90 77.78 75.72 類\"\" 55.35 16.85 62.13 18.52 20.94 類\"\" 36.51 91.72 25.94 39.39 22.43 類 47.13 42.41 40.66 45.23 39.70 類\"\"e\"\" 45.93 54.29 44.03 28.96 21.68 類 9.65 42.71 19.02 30.06 40.33 4. 不料易 F-measure F-measure(%)","聯 料  料  料 立 料"," NewsCATS 類\"\" 49.39 29.80 41.36 36.77 77.70 類\"\" 51.34 23.56 44.27 28.57 14.61 類\"\" 40.59 60.03 25.17 41.08 19.74 類 47.37 46.93 38.90 44.17 39.51 類\"\"e\"\" 46.35 47.29 35.27 37.38 19.93 類 5.73 19.51 10.29 6.36 38.71 5e 6 7 聯料e料e料 立料 k 率e率 F-measure f d類來d 料 NewsCATS id率 NewsCATS 2.62% 10.81%d率 NewsCATS 1.04% 11.56%d F-measure NewsCATS 2.12% 11.50%f利 類\"\"類\"\"類\"\"e\"\"d了立料 率 NewsCATS 2.24%d NewsCATS f類來料 k 類異度d數 NewsCATS 類 異度d不行參f 5. 不料 k 率 率(%)","聯 料  料  料 立 料"," NewsCATS 類\"\" 46.04 57.39 56.12 16.59 80.41 類\"\" 46.52 33.54 44.52 61.11 11.48 類\"\" 52.63 61.36 40.99 50.00 27.95 類 48.40 50.76 47.21 42.57 39.95 類\"\"e\"\" 49.57 47.45 42.76 55.56 19.71 類 3.67 15.05 7.92 23.17 39.24 6 . 不料 k 率 率(%)","聯 料  料  料 立 料"," NewsCATS 類\"\" 48.00 57.33 43.03 83.33 75.72 類\"\" 46.32 34.62 38.98 33.33 20.94 類\"\" 49.21 61.83 57.97 5.55 22.43 類 47.84 51.26 46.66 40.74 39.70 類\"\"e\"\" 47.76 48.23 48.47 19.44 21.68 類 1.45 14.59 10.00 39.42 40.33 7 . 不料 k F-measure F-measure(%)","聯 料  料  料 立 料"," NewsCATS 類\"\" 47.00 57.36 48.71 27.67 77.70 類\"\" 46.42 34.07 41.57 43.13 14.61 類\"\" 50.86 61.59 48.03 10.00 19.74 類 48.12 51.01 46.93 41.63 39.51 類\"\"e\"\" 48.65 47.84 45.44 28.80 19.93 類 2.42 14.82 3.94 16.58 38.71 8e 9 10 聯料e料e料 立料率e率 F-measure f 8 . 不料率 率(%)","聯 料  料  料 立 料"," NewsCATS 類\"\" 50.87 82.50 56.14 18.29 80.41 類\"\" 54.45 43.89 44.46 56.67 11.48 類\"\" 47.99 46.91 40.99 55.56 27.95 類 51.10 57.77 47.20 43.50 39.95 類\"\"e\"\" 51.22 45.40 42.73 56.11 19.71 類 3.23 21.47 7.94 21.84 39.24 9 . 不料率 率(%)","聯 料  料  料 立 料"," NewsCATS 類\"\" 53.44 24.00 42.22 91.67 75.72 類\"\" 50.26 19.41 40.17 25.92 20.94 類\"\" 42.86 93.11 57.97 11.36 22.43 類 48.85 45.51 46.78 42.98 39.70 類\"\"e\"\" 46.56 56.26 49.07 18.64 21.68 類 5.43 41.29 9.74 42.78 40.33 10 . 不料 F-measure F-measure(%)","聯 料  料  料 立 料"," NewsCATS 類\"\" 52.12 37.18 48.19 30.50 77.70 類\"\" 52.27 26.92 42.21 35.57 14.61 類\"\" 45.28 62.39 48.03 18.87 19.74 類 49.95 50.91 46.99 43.24 39.51 類\"\"e\"\" 48.78 50.25 45.68 27.99 19.93 類 3.99 18.25 3.41 8.56 38.71 聯料e料e料立 料 不行異 度 d NewsCATS 行d A 易ek 料d NewsCATS fd不料 不d不參數 易ek NewsCATS f"]},{"title":"e論 ","paragraphs":["不f ddd不 來d更 略f d類來f 了易ek 類d 來f 易ek 類 利類\"\"類\"\" d類 f "]},{"title":"參","paragraphs":["[1] Yahoo!dhttp://tw.stock.yahoo.com/f","[2] dhttp://ckipsvr.iis.sinica.edu.tw/f","[3] 識 d","http://godel.iis.sinica.edu.tw/CKIP/index.htmf","[4] dhttp://www.otc.org.tw/f","[5] d論dd 39-81e215-231d1993f","[6] d類路","d理論d1996f","[7] d類 dd 2002 d","http://hd123.com/asprun/Message/MessageList.asp?gid=17658f","[8] d 料 類","例d理論d2004f","[9] d \" \"d 59 d","59-64d1997f","[10] 易dhttp://www.tse.com.tw/f","[11] ddd 235-253e324e403-418d1997f","[12] H. Braun and J. S. Chandler, \"Predicting Stock Market Behavior through Rule Induction:","An Application of the Learning-from-Example Approach,\" Decision Sciences, volume 18,","number 3, pp. 415-429, 1987.","[13] G. P. C. Fung, J. X. Yu and W. Lam, \"News Sensitive Stock Trend Prediction,\"","Proceedings of the Sixth Pacific-Asia Conference on Knowledge Discovery and Data","Mining, pp. 289-296, 2002.","[14] G. Gidófalvi, \"Using News Articles to Predict Stock Price Movements,\" Technical","Report: CSE 254, Department of Computer Science and Engineering, University of","California, San Diego, La Jolla, CA, USA, 2001.","[15] J. Han and M. Kamber, Data Mining: Concepts and Techniques, Second Edition,","Morgan Kaufmann, pp. 614-626, 2006.","[16] H. P. Luhn, \"The Automatic Creation of Literature Abstracts,\" IBM of Research and","Development, pp. 159-165, 1958.","[17] M.-A. Mittermayer, \"Forecasting Intraday Stock Price Trends with Text Mining","Techniques,\" Proceedings of the Thirty-Seventh Annual Hawaii International Conference","on System Sciences, Track 3, p. 30064b, 2004.","[18] R. P. Schumaker and H.-C. Chen, \"Textual Analysis of Stock Market Prediction Using","Financial News Articles,\" Proceedings of the Twelfth Americas Conference on","Information Systems, Acapulco, Mexico, 2006.","[19] Wikipedia,http://www.wikipedia.org/.","[20] I. H. Witten and E. Frank, Data Mining: Practical Machine Learning Tools and","Techniques with Java Implementations, Morgan Kaufmann, pp. 76-80, pp. 88-96, pp.","149-151, pp. 296-304, 2000.","[21] B. Wüthrich, V. Cho, S. Leung, D. Permunetilleke, K. Sankaran, and J. Zhang, \"Daily","Stock Market Forecast from Textual Web Data,\" Proceedings of the 1998 IEEE","International Conference on Systems, Man, and Cybernetics, pp. 2720-2725, 1998."]}]}