{"sections":[{"title":"A Simple Surface Realizer for Filipino ∗ ","paragraphs":["Ethel Ong, Stephanie Abella, Lawrence Santos, and Dennis Tiu   Center for Language Technologies, College of Computer Studies","De La Salle University, Manila, Philippines 1004","ethel.ong@delasalle.ph, stephanie.abella@yahoo.com, lawrencesantos@ymail.com, den_tiu@yahoo.com Abstract. Surface realizers are used at the final phase of natural language text generation to convert abstract or symbolic representations of information to linguistic forms in a particular human language. Rules of grammar for the target language are applied to produce text that is syntactically, morphologically and orthographically correct. In this paper, we present the development of FilSuRe, a simple surface realizer for Filipino. We also present how the Booklat system was produced by revising the realization phase of a prototype automatic story generator system, Picture Books, to use the API library of FilSuRe in order to generate children’s stories in Filipino. Keywords: Surface realization, text generation, story generation, Filipino language.  ∗ Copyright 2011 by Ethel Ong, Stephanie Abella, Lawrence Santos, and Dennis Tiu."]},{"title":"1 Introduction","paragraphs":["Text generation systems are computer applications that use theories of artificial intelligence and computational linguistics to automatically produce documents, reports, explanations, help messages, stories, and other kinds of texts. Such systems typically follow a basic three-stage pipeline presented by Dale and Reiter (2000) comprising of content determination, sentence planning, and surface or linguistic realization.","Surface or linguistic realization is a process whereby abstract or symbolic representations of information are transformed into readable text in a target human language. A number of systems that generate text rely on an external surface realizer during their realization phase to form syntactically and morphologically correct sentence structures. SimpleNLG (Venour and Reiter, 2007) is a popular choice as its library of Java functions provides an interface for applications to build phrases and simple sentences, and to perform inflectional morphological operations and orthography to generate grammatically correct and formatted English sentences. It is a grammar-based realizer engine that accepts canned and non-canned input representations and produces an output string in a deterministic fashion (Gatt and Reiter, 2009).","Various systems have utilized simpleNLG in the latter phase of their generation process. The automatic story generators Picture Books (Hong et al., 2009; Ang et al., 2011) used simpleNLG to transform text specifications in the abstract story tree into story text that can be read by young children. The learning tool for spelling and vocabulary, Pun World (Aban et al., 2010), as well as the learning tool for Filipino heritage learners, SalinLahi (Cheng et al., 2009) utilized simpleNLG to perform formatting on the generated feedback before the surface text is displayed in the user interface. The text generator system, Vigan (Chen et al., 2008), used simpleNLG to transform internal descriptions of museum objects into surface text.","Although the functions provided by simpleNLG to produce a sentence in the target language is flexible enough to accept phrases (i.e., noun phrase, verb phrase, prepositional phrase), the structure of a Filipino sentence necessitates the need for a Filipino text realizer that can support the nuances of Filipino grammar rules, specifically those involving word order, generation of markers for nouns, and morphological rules for generating verbs in various tenses. 25th Pacific Asia Conference on Language, Information and Computation, pages 51–59 51 ","In this paper, we present the development of FilSuRe, a simple Filipino surface realizer that was patterned after simpleNLG. It provides a library of Java functions as an interface for applications to generate the correct markers, determiners and inflections of words to build phrases and simple sentences in the Filipino language.","The rest of this paper is organized as follows. Section 2 presents an overview of grammar constructs from the balarila or the official grammar of the Filipino language and how this affected the design of FilSuRe. The discussion begins with the types of sentence structures, followed by verbs, nouns, adjectives, and adverbs. Testing of the API through interfacing with an NLG application, the Booklat story generator system, is presented in Section 3. The paper ends with a summary of research findings and further work to improve the library."]},{"title":"2 The Development of FilSuRe","paragraphs":["The Filipino Surface Realizer (FilSuRe) is a library of Java API functions patterned after simpleNLG to support the generation of simple and grammatically correct Filipino declarative sentences. The library can be utilized by NLP applications that require surface realizers in the last phase of their generation phase to produce surface text in Filipino.","Four main functions are provided in the library, namely PandiwaSpec to build verb phrases, PangngalanSpec to build noun phrases, PangukolSpec to build prepositional phrases, and PangungusapSpec to build sentences from the different phrases."]},{"title":"2.1 Structure of Filipino Sentences","paragraphs":["A Filipino sentence (pangungusap) is comprised of two main parts, the subject (simuno) and the predicate (panaguri). These two parts gave rise to two forms of sentence structure, the common (karaniwan) structure where the predicate precedes the subject, and the uncommon (di-karaniwan) structure where the subject appears before the predicate with the structural marker ay appearing between them (De Vos, 2010).","The two sentences below for “John ate at home” exemplify these structures. The free-word order nature of the Filipino grammar is seen in sentences (1) and (2), where in (1) the location (sa bahay) precedes the actor (si John), while in (2) the actor precedes the location.","","Karaniwan: Kumain sa bahay si John. (1) Kumain si John sa bahay. (2) ","Di-karaniwan: Si John ay kumain sa bahay. (3) ","By default, FilSuRe generates sentences using the karaniwan structure. This can be explicitly modified to di-karaniwan during the instantiation of a new sentence (PangungusapSpec). A set of grammar rules composed of thematic roles dictates the structure of the sentence. During realization, the system parses the rule to identify the order and arrangement of the different parts of a sentence. There are currently 14 grammar rules, shown in Figure 1, that are specified using the notation:"," VERB:1;AGTR:1;PATR:1;BENR:0;INSR:0;LOCR:0;TIMR:0;PURR:0;CAUR:0 ","The thematic roles are verb, agent (AGTR), patient (PATR), beneficiary (BENR), instrument (INSR), location (LOCR), time (TIMR), purpose (PURR), and cause (CAUR). The 1 or 0 in the thematic rule indicates whether that thematic role is required or optional, respectively. For example, the rule above can be used to generate sentence (4) for “John ate an apple”. Setting the thematic roles INSR and TIMR to 1 would generate sentence (5) for “John ate an apple using a fork last night.” 52 Kumain (VERB) si John (AGTR) ng mansanas (PATR). (4) Kumain (VERB) si John (AGTR) ng mansanas (PATR) gamit ang tinidor (INSTR) kagabi (TIMR)."," (5)   Figure 1: Existing Filipino grammar rules defined in FilSuRe. "]},{"title":"2.2 Filipino Verbs","paragraphs":["Affixes are used in Filipino verbs (pandiwa) to reflect their tenses. Table 1 shows some affixes and the resulting inflected verbs.  Table 1: Examples of Filipino verbs and their inflections. -um Uminom (Drank) Kumain (Ate) mag- Nag-ayos (Fixed) Nagluto (Cooked) Past Tense -in Inayos (Fixed) Kinain (Ate) -um Umiinom Kumakain mag- Nag-aayos Nagluluto Present Tense -in Inaayos Kinakain Iinom Kakain mag- Mag-aayos Magluluto Future Tense -in Aayusin Kakainin  The affixes are dependent on the focus of the verb that differentiates the grammatical role of the subject of the sentence. These grammatical roles include the actor, object, location, benefactor, instrument and cause. Verbs with the affixes um and mag, for example, reflect the actor focus or the doer of the action, as exemplified in sentences (6) to (9). In the morphological rules of Filipino, mag becomes nag, as the case in (8), for present tense. The first syllable of the root word is repeated for present and future tenses, as shown in (8) and (9)."," Uminom si Jose ng gatas. (Jose drank milk.) (6) Kumain si Maria ng mangga. (Maria ate a mango.) (7) Si Juan ay nag-aayos ng kotse. (Juan is fixing a car.) (8) Magluluto si Linda ng isda. (Linda will cook fish.) (9) 53  Verbs with the affix in reflect the object focus or the target of the action, for example, in","sentences (10) to (12).  Inayos ni Juan ang kotse. (The car was fixed by Juan.) (10) Kinakain ni Linda ang isda. (The fish is being eaten by Linda.) (11) Aayusin ni Jose ang pintuan bukas. (The door will be fixed by Jose tomorrow.) (12)  The affix in is also used to reflect the benefactive focus or the recipient of the action in (13).  Binigyan ni Juan ng kendi si Maria. (Maria was given a candy by Juan.) (13)","","To be able to generate the correct inflection of a verb, FilSuRe maintains a lexicon of verbs in their root form. Each verb entry is associated with the aspect/tense, focus, corresponding affixes (prefix, infix and suffix), and valid grammar rules to generate sentences in the karaniwan and di-karaniwan structures. The lexicon currently has 84 unique verbs and 865 total verb inflections. To generate an inflection, the affixes are retrieved and concatenated to the root word based on grammar rules for verbs. Table 2 shows sample entries for the verb alam (know)."," Table 2: Sample entries in the verb lexicon of FilSuRe.  "]},{"title":"2.3 Filipino Nouns","paragraphs":["To create a noun phrase using the PangngalanSpec class, the following parameters are needed – the noun itself, its thematic role, classification (i.e., proper or common), grammatical number (singular or plural), and marker type. The classification of the noun must be explicitly specified because FilSuRe does not maintain a database of proper nouns nor does it utilize an external named entity recognizer."," Table 3: ANG, NG, and SA markers. ANG markers NG markers SA markers Singular-Proper Si Jose (Jose) Aso ni Jose (Jose’s dog) Ibinigay kay Jose (Gave to Jose) Singular-Common Ang bata (The child) Aso ng bata (The child’s dog) Ibinigay sa bata (Gave to the child) Plural-Proper Sina Jose at Maria (Jose and Maria) Pagkain nina Jose at Maria (Jose and Maria’s food) Para kina Jose at Maria (For Jose and Maria) Plural-Common Ang mga bata (The children) Pagkain ng mga bata (The children’s food) Para sa mga bata (For the children) ","There are three groups of markers or determiners (pantukoy) in the Filipino language – ang, ng, and sa. They are further classified according to the number and the commonality of the nouns they are describing. Ang markers (si/sina, ang/ang mga) introduce the subject of the 54 sentence. Ng markers (ni/nina, ng/ng mga) show possession of an item by the subject. Sa markers (kay/kina, sa/sa mga) show the target of verbs as well as possession of objects. Table 3 summarizes and provides sample usage of these markers. The marker “mga” is the common approach to specifying plural nouns, such as ang mga bata (the children).","Markers are generated automatically based on the noun classification, marker type, thematic role, verb focus, and grammatical number, as shown in Table 4."," Table 4: Marker type based on the thematic role and the verb focus.","Thematic Role Verb Focus Marker Type Actor, Locative Ang Agent Benefactive, Causative, Instrument, Object Ng Actor, Locative, Benefactive Ng Object Ang Patient Instrument Sa Benefactive Ang Beneficiary","Actor Sa "]},{"title":"2.4 Filipino Adjectives","paragraphs":["An adjective (pang-uri) is connected to the word it describes with the use of the connectives (pang-angkop) na, –g, or ng. The adjective may precede or succeed the word it describes. The pang-angkop na is used if the first word ends with a consonant other than n, such as mag-aaral na matalino (student who is smart) and malinis na paligid (clean surroundings). The pang-angkop –g is used if the first word ends with n, such as bayang maunlad (nation that is progressive) and mayamang kultura (rich culture). The pang-angkop –ng is used if the first word ends with a vowel, such as matalinong mag-aaral (intelligent student) and manggang maasim (mango that is sour).","If a noun phrase has two or more adjectives, FilSuRe adds a comma after every adjective, inserts the connective “at” (and) before the last adjective, and applies the rule above on the last adjective that immediately precedes the noun, for example, masipag, magalang, at masunuring anak (hardworking, respectful, and obedient child).","If there is an adjective of type pamilang (number), then it is placed before all the panlarawan (descriptive) adjectives, for example, limang magalang na bata (five respectful kids).","Adverbs (pang-abay) are concatenated before the verb they describe using a similar set of rules, except for the pang-angkop na which is not needed if the adverb ends with a consonant, e.g., mabilis tumakbo (ran fast); mahilig maglaro (likes to play)."]},{"title":"3 Using FilSuRe in an NLG Application","paragraphs":["To test the API library of FilSuRe, Booklat, a Filipino version of the Picture Books (Hong et al., 2009) story generator system, was developed. Specifically, the realization phase of Picture Books was revised to use FilSuRe as its surface realizer instead of simpleNLG, in order to generate story text in the Filipino language. All other aspects of Picture Books, namely the picture editor for specifying the story elements, the story planner, and the semantic ontology of commonsense knowledge on storytelling were retained. The story planner generates a story plan in the form of an abstract story tree that is forwarded to the surface realizer.","The abstract story tree contains a collection of character goals representing the sequence of actions and events that occur in the story to be generated (Ong, 2010). A character goal represented below comprises the action (verb), an agent and a patient (some characters in the story), an instrument and a target (some objects used in the story). This representation is easily transformed into a declarative sentence."," 55  CGid(Action:<verb>, Agens:<char>, Patiens:<char>, Target:<obj>, Instrument:<obj>) ","The transformation is straightforward. A PandiwaSpec object is instantiated for each character goal in the story tree. Inputs to PandiwaSpec come from the action attribute of a character goal which provides the root word of the verb. The focus of the verb is taken from the character goal type. All verbs in Picture Books are in past tense; Booklat retains this convention.","The agent and the patient attributes of a character goal are used as inputs to create noun phrases using the PangngalanSpec class. This includes pronouns, which were generated by Picture Books’ referring expression generator during realization. A mapping of English to Filipino pronouns is used in Booklat."]},{"title":"3.1 Inflection of Verbs","paragraphs":["Because Picture Books was designed to specifically use simpleNLG, its character goal is not associated with the focus of the verb. The focus does not affect the inflection of verbs in the English grammar. To compensate for this requirement in Booklat, the default focus was assigned to actor, since most sentences in a Picture Books-generated story is declarative in nature where a character performs an action (e.g., “Rizzy broke the lamp”) or feels an emotion (e.g., “Rizzy was scared”). A special case is sentence (14) which was initially generated as sentence (15) to reflect an actor focus. But the more natural way of stating this is in (16) using the benefactive focus."," Mommy Hannah told Roy to brush teeth. (14) Nagsabi si Nanay Hannah kay Roy na magsipilyo ng ngipin. (15) Sinabi ni Nanay Hannah kay Roy na magsipilyo ng ngipin. (16)  It was determined that the type of the character goal can be used to dictate the focus. Table 5","shows the assigned focus for each of type of character goals and the sample sentences/verb","inflections in Filipino.  Table 5: Types of character goals and the assigned focus.","Character Goal Type Focus Sample Filipino Story Text Character does something Actor Kumain si Roy ng matamis (Roy ate sweets) Character does not do","Actor Hindi siya nagsipilyo ng ngipin (He did not brush teeth) Character wants Actor Gusto niya na magsipilyo ng ngipin (Roy","wanted to brush teeth) Actor (incorrect) Tumuloy si Roy sa pagkain ng matamis","(Roy continued to eat sweets) Character continues doing","something","Object (correct) Tinuloy ni Roy na kumain ng matamis","Actor (incorrect) Nagsabi si Mommy Hannah kay Roy na ... Secondary character talks","to main character Benefactive (correct) Sinabi ni Mommy Hannah kay Roy na ...",""]},{"title":"3.2 Lexical Choices","paragraphs":["The literal translation of parameters in a character goal as inputs to the different phrases of FilSuRe’s API resulted in incorrectly sounding sentences. For example, sentence (17) is generated as (18), which, although syntactically and semantically correct, is not the common and natural way of saying this. Sentence (19) is a better way of expressing what a character is feeling. The same is true for other similar sentences shown in (20) and (21)."," He felt hurt. (17) 56 Nakaramdam siya ng sakit. (18) Nasaktan siya. (19) Nakaramdam siya ng pagod.  Napagod siya. (He felt tired.) (20) Nakaramdam siya ng takot.  Natakot siya. (He felt scared.) (21) "]},{"title":"3.3 Prepositional Phrases","paragraphs":["FilSuRe provides a PangukolSpec class that can be used to create prepositional phrases. A prepositional phrase is specified in the target attribute of a character goal. However, the target attribute is also used to specify the object of the verb, in which case a PangngalanSpec is instantiated for the noun phrase. The comparative character goals are shown in Table 6.  Table 6: Character goals with values for the target attribute. Character Goal Picture Books Booklat Picture Books Booklat Action Saw kita told sabi Agent she siya Mommy Hannah Nanay Hannah Patient null null Roy Roy Instrument null null null null Target delicious cake masarap cake to stay diyan lang Target Type Object Object Preposition Preposition ","The prepositions in the target attribute of character goals use command verbs. In English, these verbs are set without any inflections. However, in Filipino, infinitive verbs may require inflections. FilSuRe currently only covers verbs that are used in generating declarative sentences. It cannot handle the generation of imperative sentences yet."]},{"title":"3.4 Sentence Structure","paragraphs":["Sentences are realized using the PangungusapSpec after taking the PandiwaSpec, PangnglanSpec and PangukolSpec. The di-karaniwan structure is used if the target sentence is any one of the following – story title, setting (day and place where the story takes place), or statement of the rule (or lesson). Examples of these are shown in Table 7. All other character goal types will be realized following the karaniwan structure."," Table 7: Comparative examples of sentences depicting the title, setting and lesson of the story. Type Picture Books Sentence Booklat Sentence Title Roy the chicken learns to brush teeth Si Roy na manok ay natuto na magsipilyo ng","ngipin The morning was warm. Ang umaga ay maalinsangan.","Setting Roy the chicken was in the dining room. Si Roy na manok ay nasa silid-kainan. Brushing teeth is fun. Ito ay Masaya.","Lesson Afterwards, Roy always brushed teeth. Mula sa araw na iyon, siya ay lagi nagsipilyo","ng ngipin. "]},{"title":"3.5 Other Issues","paragraphs":["A Filipino linguist assessed the grammatical correctness of three Booklat stories. These stories were generated from the existing ontology of Picture Books that has been manually populated with 240 relevant concepts and 369 semantic relations, and a lexicon containing 419 words that was populated with corresponding Filipino words. The verb lexicon of FilSuRe has been 57  manually populated with 84 unique verbs that were identified based on the lexicon of Picture Books. The total number of entries in the verb lexicon is 865 by including the different foci, aspects, affixes and sentence grammar rules. The validation of the narrative content is not of primary concern in Booklat since it retained the story planning algorithm of Picture Books.","Booklat uses an extended lexicon from Picture Books (with an added column for Filipino words). This led to the word-per-word translation during the lexicalization process, resulting in incorrect word usage (22) and missing function word (23) to connect the adjective to the noun that it describes. ","Mommy Hannah told Roy to take bath. Incorrect: Sinabi ni Mommy Hannah kay Roy na kuha paliguan. Correct: Sinabi ni Mommy Hannah kay Roy na maligo siya. (22)","","She saw the delicious cake.","Incorrect: Nakita niya ang masarap keyk.","Correct: Nakita niya ang masarap na keyk. (23) ","Furthermore, an English word may have multiple counterparts in Filipino. For example, the word “with” can precede a person (24) or an object (25). Depending on these two contexts, the corresponding Filipino word would be “kasama” or “gamit”, respectively. ","He went with Mommy Hannah to the school. Pumunta siya kasama ni Mommy Hannah sa paaralan. (24)  He ate the cake with a fork.","Kinain niya ang keyk gamit ang tinidor. (25)"]},{"title":"4 Conclusion","paragraphs":["We have presented an initial work on the development of a simple surface realizer for use by text generation systems to produce text in the Filipino language. A set of API functions is provided, specifically to create verb phrases, noun phrases, prepositional phrases, and sentences in the karaniwan and di-karaniwan structure.","Verb phrase generation includes the automatic inflection to produce a verb in the correct tense based on user-specified focus and aspect. This is supported by a manually-populated verb lexicon consisting of the root verb and the set of possible affixes. Grammar rules specifying the structure of Filipino sentences can also be associated to a verb in the lexicon.","Noun phrase generation includes the automatic assignment of a correct marker based on user-specified noun classification and thematic role. Inflecting nouns to reflect their number and inflecting adjectives to reflect the plurality of the nouns they describe are currently not supported and instead rely on user inputs.","The accurate realization of a Filipino sentence depends on the correctness of the data in the lexicon and also from the inputs of the user. All grammar construct rules, such as verb inflection, marker generation for nouns, connective generation for adjectives, are currently programmed into FilSuRe. Future work should explore the use of Finite State Morphology (FSM) to allow for greater flexibility and increased performance.","To test the API, the realization phase of the Picture Books automatic story generation system was modified to make calls to FilSuRe instead of simpleNLG. A major problem encountered in the integration is related to insufficient inputs needed by the different API, which are not available in the abstract story tree provided by the story planner to the realization module. Specifically, these are the parameters needed to generate the correct verb inflection. This was addressed by annotating each character goal type with the correct focus, and fixing the aspect to past tense, the way most children’s stories are usually written. 58","The presence of multiple Filipino lexical choices for a single English word also presented a problem. As in the previous case, this was addressed in the realization phase of Booklat.","A final concern that occurred during the lexicalization process was more of a design decision to extend the lexicon of Picture Books by simply adding a column for the corresponding Filipino word. Future work on Booklat should explore the use of Picture Books’ semantic ontology to associate concepts directly with Filipino words.","Because children’s stories and other text generation systems may require different kinds of sentences, FilSuRe should be extended to support the generation of imperative, interrogative, and exclamatory sentences."]},{"title":"References","paragraphs":["Aban, V.R., T.J. Fernandez, M.C. Pascual and E. Ong. 2010. Exploring Puns for Spelling and Vocabulary Enrichment. Proceedings of the 7th National Natural Language Processing Research Symposium, pp. 27-32, Manila, Philippines.","Ang, K., J. Antonio, D. Sanchez, S. Yu and E. Ong. 2011. The Automatic Generation of Children’s Stories from a Multi-Scene Input Picture. Philippine Computing Journal, 5(2), 30-36, December 2010, Computing Society of the Philippines.","Chen, H.W., M.G. Lim, P.B. Perez, J.P. Reyes and N.R. Lim. 2008. Natural Language Generation of Object Descriptions Based on User Model. Proceedings of the 22nd Pacific Asia Conference on Language, Information, and Computation, Cebu, Philippines.","Cheng, C.K., M.R. Antay, M. Jumarang, R.V. Regalado and L.M. Fernandez. 2010. SalinLahi: A Web-Based Interactive Learning Environment for the Filipino Language. Proceedings of the First International Conference on Heritage / Community languages. Los Angeles, USA.","De Vos, F. 2010. Essential Tagalog Grammar: A Reference for Learners of Tagalog. https://learningtagalog.com/grammar/index.html.","Dale, R. and E. Reiter. 2000. Building Natural Language Generation Systems. UK: Cambridge University Press.","Gatt, A. and E. Reiter. 2009. SimpleNLG: A Realisation Engine for Practical Applications. Morristown, NJ, USA: Association for Computational Linguistics.","Hong, A.J., C.J. Solis, J.T. Siy, E. Tabirao and E. Ong. 2009. Planning Author and Character Goals for Story Generation. Proceedings of the NAACL Human Language Technology 2009 Workshop on Computational Approaches to Linguistic Creativity, pp. 63-70, Colorado, USA.","Ong, E. 2010. A Commonsense Knowledge Base for Generating Children's Stories. Proceedings of the 2010 AAAI Fall Symposium Series on Common Sense Knowledge, pp. 82-87, Virginia, USA.","Venour, C. and E. Reiter. 2008. Tutorial for SimpleNLG (version 3.7). http://www.csd.abdn.ac.uk/~ereiter/simplenlg/.  59"]}]}