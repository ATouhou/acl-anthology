{"sections":[{"title":"Proceedings of the COLING/ACL 2006 Main Conference Poster Sessions, pages 428–435,Sydney, July 2006. c⃝2006 Association for Computational Linguistics","paragraphs":["Unsup ervised Segmen tation of Chinese","T ext","b y Use of Branc hing En trop y Zhih ui Jin and Kumik o","T anak aIshii Graduate Sc ho ol of Information Science and T ec hnology Univ ersit y of T oky o Abstract W","e prop ose an unsup ervised segmen tation metho d based on an","assumption ab out language data that the increas ing p oin t of en trop y of successiv e c","har","acters is the lo cation of a","w ord b ound ary  A largescale exp erimen t w as con ducted b y using  MB of unseg men","ted","training data and  MB","of","test data and precision of  w as attained with recall b eing around  More o v er w e","found that the precision w as","stable at around  indep enden tly of the learning data size  In tro duction The theme of this pap er is the follo wing as sumption The uncertain t y of tok ens coming after a sequence helps determine whether a giv en p osition is at a b oundary  A","In tuitiv ely ","as illustrated in Figure  the","v ari","et y of successiv","e tok ens at eac h c haracter in side a w ord monotonically decreases according","to the oset length b ecause the longer","the","pre ceding c haracter ngram the longer the pre ceding con text and the more it restricts the app earance of p ossible next tok ens F or ex ample it is easier to guess whic h c haracter","comes after natura than after","na On the other hand the uncertain","t y at the p osition of a w ord b order b ecomes greater and","the","com plexit","y","increases as the p osition is out","of","con text","With","the same example it is","dicult","to guess whic h c haracter comes after natural  This suggests that a w ord b order can b e de tected b y fo cusing on the dieren tials of the uncertain t y of branc hing In this pap er","w e rep ort our study on ap plying this assumption to Chinese w ord seg Figure ","In tuitiv","e illustration of","a v ariet","y of successiv","e tok ens and a w ord b oundary men tation b y formalizing the uncertain t y of successiv e tok ens via the branc hing en trop y whic h w e","mathematically dene in the next section Our","in ten tion in this pap er is ab o v e all to study the fundamen tal and scien tic sta tistical prop ert y underlying language data so","that it can b e applied to","language","engineering The ab o v e assumption A dates bac k to the fundamen tal w ork done b y Harris Harris  where he","sa ys that when the n um b er of dieren t tok ens coming after ev ery prex of a w ord marks the maxim um v alue then the lo cation corresp onds to the morpheme","b","ound ary  Recen tly  with the increasing a v ailabil it y of corp ora this prop ert y underlying lan guage has b een tested through segmen tation","in to w ords and morphemes Kemp e Kemp e  rep orts a preliminary exp erimen t to de tect w ord b orders in German and English","texts b y","monitoring the en trop y of successiv","e c har acters for grams Also the second author of this pap er T anak aIshii  ha v e sho wn ho w Japanese and Chinese can b e segmen ted","in to w ords b y formalizing the uncertain t y with the branc hing en trop y  Ev en though the test data w as limited to a small amoun","t in this w ork the rep ort suggested ho w assumption"]},{"title":"428","paragraphs":["A holds b etter when eac h of the sequence el emen ts forms a seman tic unit This motiv ated our w","ork to conduct a further largerscale","test in the Chinese language whic h is the only h u man language consisting en tirely of ideograms ie seman tic units In this sense the c hoice of Chinese as the language in our w ork is es sen tial If the assumption holds w ell the most im p ortan t and direct application is unsup er vised text segmen tation","in to w ords Man y w orks in unsup ervised segmen tation so far could b e","in terpreted as form ulating assump tion A in a similar sense where branc h ing sta ys","lo w inside w ords but increases at a w ord or morpheme b order None of these w orks ho w ev er is directly based on A and they","in tro duce other factors within their o v erall metho dologies Some w orks are based on inw ord branc hing frequencies for","m ulated in an original","ev aluation function as in Ando and Lee  b oundary pre cisionrecall tested on  Japanese ideogram w ords Sun et al Sun et al  uses m utual information b ound ary p no rep ort for recall  Chi nese c haracters and F engF eng et al  incorp orates branc hing coun ts in the","ev alua tion function to b e optimized for obtaining b oundaries w ord precision recall  sen tences","F rom the p erformance results listed here w","e can see that unsup ervised seg men tation is more dicult b y far than sup er vised segmen tation therefore the algorithms are complex and previous studies ha v e tended to b e limited","in terms of b oth the test","corpus size and the target In con","trast as assumption A is simple","w e k eep this simplicit y in our formalization and directly test the assumption on a largescale test corpus consisting of  KB man ually segmen","ted data with the training corpus","con","sisting of  MB of Chinese","text Chinese is suc h an imp ortan t language that sup ervised segmen tation metho ds are already v ery mature The curren t stateoftheart seg men tation soft w are dev elop ed b y","Lo w et al  whic","h","ranks as the b est in the","SIGHAN bak eo Emerson  attains w ord preci sion and recall of  and  resp ec tiv ely  on the PKU trac k There is also free"]},{"title":"0.5 1 1.5 2 2.5 3 3.5 4 4.5 5 1 2 3 4 5 6 7 8","paragraphs":["entropy"]},{"title":"offset","paragraphs":["Figure  Decrease in H  X j X n"," for Chinese c haracters when n is increased soft w are suc h as Zhang et al  whose p erformance is also high Ev en then as most sup ervised metho ds learn on man ually seg men ted newspap er data when the input text is not from newspap ers the p erformance can b e insucien t Giv en that the construction of learning data is costly ","w e b eliev","e the p erfor mance can b e raised b","y com bining the sup er vised and unsup ervised metho ds Consequen tly  this pap er v eries assump tion A in a fundamen tal manner for Chinese","text and addresses the questions of","wh y and to what exten","t A holds when applying it to","the Chinese w ord segmen tation problem W e rst","formalize assumption A in a general","manner  The Assumption Giv en a set of elemen ts  and a set of ngram sequences ","n formed of   the conditional en trop y of an elemen t o ccurring after an n gram sequence","X","n is dened as H  X","j","X n ","  X x n   n","P  x n  X x  ","P ","x j x n","","log","P ","x j x n","","  where","P  x  ","P  X  x ","P ","x j x n","","","P  X ","x j X","n","","x n  and","P  X ","x  indicates the prob abilit","y of o ccurrence of x  A w ellkno wn observ ation on language data states that H  X","j","X n  decreases","as n increases Bell et al  F or example Figure  sho ws ho w H  X j X n"," shifts when n increases from  to  c haracters where","n is the length of a w ord prex","This is calculated for all","w ords existing in the test corpus with the en trop y","b eing measured in the learning data the","learn","ing and test data are dened","in x  This phenomenon indicates that X will b e come easier to estimate as the con text of","X n"]},{"title":"429","paragraphs":["gets longer This can b e","in tuitiv ely under sto o d it is easy to guess that e will follo w after Hello Ho w ar but it is dicult to","guess","what comes after the short","string","He The last term  log","P ","x","j","x n  in the","ab","o v e for","m","ula indicates the information of","a","tok en of x coming after","x n  and th us the branc hing after x n  The latter half of the form ula the lo cal en trop y v alue for a giv en x n  H  X j X n","","x n    X x  ","P ","x j x n","","log","P ","x j x n","   indicates the a","v erage information of branc hing for a","sp e cic ngram sequence x n  As our in terest in this pap er is this lo cal en trop y  w e denote H  X j X n","","x n  simply as h ","x n  in the rest of this pap er The decrease in H  X","j","X n  globally","indicates that giv en an n length sequence x n and an other ","n  length sequence y n   the follo w ing inequalit","y holds on aver age  h  x n   h  y n     One reason wh y inequalit y  holds for lan guage data is that there is c ontext in language and y n  carries a longer c ontext as compared with x n  Therefore if","w e supp ose that x n is the prex of x n   then it is v ery lik ely that h  x n   h  x n    holds b ecause the longer the preceding n gram the longer the same con text F or ex ample it is easier to guess what comes af ter x  natura than what comes after x   natur Therefore the decrease in H  X j X n","","can b e expressed as the concept that if","the","con text is longer the uncertain t y of the branc hing decreases on a v erage Then taking the logical con trap osition if the uncertain t y do es not de crease the con text is not longer whic h can b e","in terpreted as the follo wing If the en trop y of successiv e tok ens in creases the lo cation is at a con text b order B F or example in the case of x   natu ral the en trop","y","h natural should b e larger than","h natura b ecause it is uncertain","what c haracter will allo w x  to succeed In the next section w e","utilize assumption B to detect con text b oundaries Figure  Our mo del for b oundary detection based on the en trop y of branc hing  Boundary Detection Using the En trop y of Branc hing Assumption B giv es a hin t on ho w to utilize the branc hing en trop y as an indicator of the con text b oundary  When t w o seman tic units b oth longer than  are put together the en trop y w","ould app ear as in the rst gure","of","Fig ure  The rst seman tic unit is from osets  to  and the second is from  to  with eac h unit formed b y elemen ts of   In the g ure one p ossible transition of the branc hing degree is sho wn where the plot at k on the horizon tal axis denotes the en trop y for h  x  k  and x nm denotes the substring b et w een osets n and","m  Ideally  the en trop y w ould tak e a maxim um at  b ecause it will decrease as","k is increased in the ranges of k   and   k   and at k   it will rise Therefore the p osition at k   is detected as the lo cal maxim um v alue when monitoring h  x  k  o v er k  The b oundary condition after suc h observ ation can b e redened as the follo wing B max Boundaries are lo cations where the en trop y is lo cally maximized","A similar metho d is prop osed","b y Harris Har ris  where morpheme b orders can b e detected b y using the lo cal maxim um of the n um b er of dieren t tok ens coming after a pre x This only holds ho w ev er for seman tic units longer than  Units often ha v e","a length of"]},{"title":"430","paragraphs":[" esp ecially in our case with Chinese c harac ters as elemen ts so that there are man y one c haracter w ords If","a unit has length  then the situation will lo ok lik e the second graph in Figure  where three seman tic units x     x     and x     are presen t with the middle unit ha ving length  First at k   the v alue of h increases","A t k","  the v alue ma y increase or decrease b ecause the longer con text results in an uncertain t y decrease though an unc ertainty de","cr e ase do es not ne c essarily me an a longer c ontext  When h increases at k   the situation will lo ok lik","e the second graph In this case the condition B max will not suce and w e","need a second b oundary condition B incr ease Boundaries are lo cations where the en trop y is increased On the other hand when","h decreases at","k   then ev en B incr ease cannot b e applied to detect","k   as a b oundary  W e ha v e other c hances to detect","k   ho w ev er b y considering h  x ik  where  ","i  k  According to inequalit y  then a similar trend should b e presen t for plots of h  x ik  assuming that h  x  n   h  x  n   then w e ha v e h  x in   h  x in    for   i  n  The v alue h  x ik  w ould hop efully rise for some i if the b oundary at k   is imp ortan t although h  x ik  can increase or decrease at","k  ","just as in the case","for h  x  n  Therefore when the target language con sists of man y oneelemen","t units B incr ease is crucial for collecting all b oundaries Note that the b oundaries detected b y B max are included in those detected b y the condition B incr ease  and also that B incr ease is a b oundary condition represen ting the assumption B more directly  So far w e ha v e considered only regular order pro cessing the branc hing degree is cal culated for suc c essive elemen ts of x n  W e can also consider the rev erse order whic h in v olv es calculating","h for the","pr evious elemen t of x n  In","the case of the previous","elemen t the question is whether the head of","x n forms","the b e ginning of a con text b oundary  Next w e mo v e on to explain ho w w e ac tually applied the ab o v e","formalization to the problem of Chinese segmen tation  Data The whole data for training amoun ted to  MB from the Con temp orary Chinese Cor pus of the Cen ter of Chinese Linguistics at P eking Univ ersit y Cen ter for Chinese Linguis tics  It consists of sev eral y ears of P eo ples Daily newspap ers con temp orary Chinese literature and some p opular Chinese maga zines Note that as our metho d is unsup er","vised","this learning corpus is just","text","without an y segmen tation The test data w ere constructed b y selecting sen tences from the man ually segmen ted P eo ples Daily corpus of P eking Univ ersit y  In to tal the test data amoun ts to  KB consist ing  Chinese w ords The w ord b ound aries indicated in the corpus w ere used as our golden standard As punctuation is clear from text b ound aries in Chinese text w e prepro cessed the test data b y segmen ting sen tences at punctuation lo cations to form text fragmen ts Then from all fragmen ts ngrams of less than  c harac ters w ere obtained The branc hing en tropies for all these ngrams existing within the test data w","ere","obtained from the  MB","of","data W","e used  as the maxim um ngram length b ecause Chinese w ords with a length of more than  c haracters are rare Therefore scan","ning","the","ngrams up to a length","of","","w as su cien t Another reason is that w e actually con ducted the exp erimen","t up to grams but","the p erformance did not impro v e from when w e used grams Using this list of w ords ranging from un igrams to grams and their branc hing en tropies the test data w ere pro cessed so as to obtain the w ord b oundaries  Analysis for Small Examples Figure  sho ws an actual graph of the en trop y shift for the input phrase  wei lai fa zhan de mu biao he zhi dao fang zhen  the aim and guideline of future dev elopmen t The upp er gure sho ws the en trop y shift for the forw ard case and the","lo w er gure sho ws the en trop y shift for the bac kw ard case Note that for the bac kw ard case the branc hing en trop y w as calculated for c haracters b efor","e the x n ","In the upp er gure there","are","t w o lines one"]},{"title":"431","paragraphs":["Figure  En trop y shift for a small example forw ard and bac kw ard for the branc hing en trop y after the substrings starting from  The leftmost line plots h   h      h   There are t w o increasing p oin ts indicating that the phrase w as segmen ted b et w een and  and b et w een and  The second line plots h      h   The increas ing lo cations are b et w een and  b e t w een and  and after  The lo","w er gure is the","same There are t w o lines one for the branc hing en trop y b efore the substring ending with sux  The righ tmost line plots h   h      h   running from bac k to fron t W","e can see in creasing p oin ts as seen from bac k to fron t b e t w een and  and b et w een and  As for the last line it also starts from and runs from bac k to fron t indicating b oundaries b et w een and  b et w een and  and just b efore  If w","e consider all the increasing p oin ts in all four lines and tak e the set union of them w e obtain the correct segmen tation as follo ws j j j j j j  whic h is the   correct segmen tation in terms of b oth recall and","precision In fact as there are  c haracters in this input there should b e  lines starting from eac h c haracter for all substrings F or read abilit y  ho w ev er w e","only sho w t w o lines eac h for the forw ard and bac kw ard cases Also the maxim","um","length of a line is  b ecause","w e only to ok grams out of the learning data If w e consider all the increasing p oin ts in all  lines and tak e the set union then w e","again obtain   precision and recall It is amazing ho w all  lines indicate only correct w ord b ound aries Also note ho w the correct full segmen ta tion is obtained only with partial information from  lines tak en from the  lines Based on this observ ation w e next explain the algo rithm that w e","used for a largerscale exp eri men t  Algorithm for Segmen tation Ha ving determined the en trop y for all ngrams in the learning data w e","could scan through eac h c h unk of test data in b oth the forw ard order and the bac kw ard order to determine the lo cations of segmen tation As our in ten","tion in this pap er is ab o v e all to","study the innate linguistic structure describ ed","b y assumption B w e do not w an t to add an y artifacts other than this assumption F or suc h exact v erication w e ha","v e to scan through","all p ossible substrings of an input","whic h amoun ts to","O  n   computational complexit y  where n indicates the input length of c haracters Usually  ho w ev er h  x mn  b ecomes imp os sible to measure when","n  m b ecomes large Also as noted in the previous section w ords longer than  c haracters are v ery rare in Chi nese text Therefore giv en a string x  all n  grams of no more than  grams are scanned and the p oin ts where the b oundary condition","holds are output as b oundaries As for the b oundary conditions w e ha v e B max and B incr ease  and w e also utilize B or dinar y  where lo cation n is considered as a b oundary when the branc hing en trop y h  x n  is simply ab o","v e a","giv en threshold Precisely ","there are three b oundary conditions","B max h  x n   v al max  where h ","x n  tak es a lo cal maxim um","B incr ease h  x n    h  x n   v al del ta ","B or dinar y h  x n   v al  where v al max  v al del ta  and v al are arbitrary thresholds"]},{"title":"432","paragraphs":[" LargeScale Exp erimen ts  Denition of Precision and Recall Usually  when precision and recall are ad dressed in the Chinese w ord segmen tation do","main they are calculated based on the","n um b er of wor d s F or example consider a correctly segmen ted sequence aaa j bbb j ccc j ddd with abcd b eing c haracters and  j  indicating a w ord b oundary  Supp ose that the mac hines result is aaabbb j ccc j ddd then the correct","w","ords are only ccc and ddd giving","a","v alue of  Therefore the precision is  divided b y","the n um b er of w ords in the results ie  for the w ords aaabbb ccc ddd giving  and the recall is  divided b y the total n um b er of w","ords in the golden standard ie"," for the w ords aaabbb ccc ddd giv ing  W","e call these v alues the w ord pre cision and recall resp ectiv ely  throughout this pap er In our case w e","use sligh tly dieren","t mea sures for the b oundary precision and recall whic h are based on the correct n um b er of b oundaries  These scores are also utilized esp e cially in previous w orks on unsup ervised seg men tation Ando and Lee  Sun et al  Precisely  P r ecision ","N cor r ect","N test  Recal l ","N cor r ect","N tr ue  w her e ","N cor r ect is the n um b er of correct b oundaries in the result","N test is the n um b er of b oundaries in the test result and","N tr ue is the n um b er of b oundaries in the golden standard","F","or example in the case of","the","mac hine result b eing aaabbb j ccc j ddd the precision is"," and the recall is  Th us w e consider there","to","b","e","no imprecise result as a","b","oundary","in","the output of aaabbb j ccc j ddd The crucial reason for using the b oundary precision and recall is that b oundary detec tion and w ord extraction are not exactly the same task In this sense assumption A or B is a general assumption ab out a b ound ary of a sen tence phrase w ord morpheme Therefore the b oundary precision and recall"]},{"title":"0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1 0.55 0.6 0.65 0.7 0.75 0.8 0.85 0.9 0.95 1","paragraphs":["recall"]},{"title":"precisionBincreaseBordinaryBmax","paragraphs":["Figure  Precision and recall measure serv es for directly measuring b ound aries","Note that all precision and recall scores","from no w on in this pap er are b oundary precision and recall Ev en in comparing the sup er vised metho ds with our unsup ervised metho d","later the precision and recall","v alues are all r e c alculate","d as b oundary precision and recall  Precision and Recall","The precision and recall graph is","sho wn in Fig ure  The horizon tal axis is the precision and the v ertical axis is the recall The three lines from righ","t to left top to b ottom cor resp ond to B incr ease     v al del ta     B max     v al max     and B or dinar y     v al     All are plotted with an","in terv al of  F or ev ery condition the larger","the threshold the higher the precision","and","the","lo w er the recall W e can see ho w B incr ease and B max k eep high precision as compared with B or dinar y  W e also can see that the b oundary can b e more easily detected if it is judged as comprising the pro ximit y v alue of h  x n  F or B incr ease  in particular when v al del ta    ","the","precision and recall are still at ","and  resp ectiv ely  Up on increasing the thresh old to v al del ta     the precision is higher","than  at the cost of a","lo w recall of  As for B max  w e","also observ","e a","similar tendency but with lo","w recall due to the smaller","n um b er of lo cal maxim um p oin ts as compared with the n um b er of increasing p oin ts Th us w e see ho w B incr ease attains","a b etter p erformance among the three conditions This sho ws the correct ness of assumption B F rom no w on w e consider only B incr ease and pro ceed through our other exp erimen ts"]},{"title":"433 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1 10 100 1000 10000 100000 1e+06size(KB) recallprecision","paragraphs":["Figure  Precision and recall dep ending on training data size Next w e in v estigated ho w the training data size aects the precision and recall This time the horizon tal axis is the amoun","t of learning data v arying from  KB up to  MB on a log scale The v ertical axis sho ws the pre cision and recall The b oundary condition is B incr ease with v al del ta     W e can see ho w the precision alw a ys re","mains","high whereas the recall dep ends on","the amoun t of data The precision is stable at an amazingly high v alue ev en when the branc h ing en trop","y is obtained from a","v ery small cor pus of  KB Also the linear increase in the recall suggests that if w e","had more than  MB of data w e w ould exp ect to ha v e an ev en higher recall As the horizon","tal axis is in a","log scale ho w ev er","w e w","ould ha v e","to ha v e","giga b ytes of data to ac hiev","e the last sev eral p er cen t of recall  Error Analysis According to our man ual error analysis the topmost three errors w ere the follo wing  Num b ers dates y ears quan tities ex ample  written in Chinese n um b er c haracters  Onec haracter w ords example at again to w ard and  Comp ound Chinese w ords example op en mind b eing segmen ted","in to op en and mind","The reason for the bad results with","n um b ers is probably b ecause the branc hing en trop y for digits is less biased than for usual ideograms Also for onec haracter w ords our metho d is limited as w e","explained in x  Both of these t w o","problems ho w ev er can b e solv ed b y ap plying sp ecial prepro cessing for n um b ers and onec haracter w ords giv en that man y of the onec haracter w ords are functional c haracters whic h are limited in n um b er Suc h impro v e men","ts remain for our future","w ork The third error t yp e in fact is one that could b e judged as correct segmen tation In","the case of op en mind it","w as not segmen ted","in to t w o w ords in the golden standard there fore our result w as judged as incorrect This could ho w ev er b e judged as","correct The structures of Chinese w ords and phrases are v ery similar and there are no clear crite ria for distinguishing b et w een a w ord and a phrase The unsup ervised metho d determines the structure and segmen ts w ords and phrases","in to smaller pieces Man ual recalculation of the accuracy comprising suc h cases also re mains for our future w ork  Conclusion W e ha v e rep orted an unsup ervised Chinese segmen tation metho d based on the","branc hing en trop y ","This metho d is based on","an","assump tion that if the en trop","y of successiv","e tok ens increases the lo cation is at the con text b or der The en tropies of ngrams w ere learned from an unsegmen ted MB corpus and the actual segmen tation w as conducted directly according to the ab o v e assumption on  MB of test data W e found that the precision w as","as","high as  with recall","b","eing around  W e also found an amazing tendency for the precision to alw a ys remain high regardless of","the size of the learning","data There are t","w o imp ortan t considerations for our future w ork","The rst is to gure out","ho w to com bine the sup ervised and unsup ervised metho ds","In particular as the p erformance of the sup ervised metho ds could b e insucien t for data that are not from newspap ers there is the p ossibilit y of com bining the sup ervised and unsup ervised metho ds to ac hiev e a higher accuracy for general data The second future","w ork is to v erify our basic assumption in other languages In particular w e should undertak e exp erimen tal studies in languages written with phonogram c haracters"]},{"title":"434","paragraphs":["References RK Ando and L Lee  Mostlyunsup ervised statistical segmen tation of Japanese Applica tions to k anji In ANLPNAA CL  TC Bell JG Cleary  and Witten IH  T ext Compr ession  Pren tice Hall Cen ter for Chinese Linguistics  Chi nese corpus visited  searc hable from httpcclpkueduc nYu Liao ContentsAsp  part of it freely a v ailable from httpwwwiclpkue duc n  T Emerson  The second","in ternational c hi nese w ord segmen tation bak eo In SIGHAN  HD F eng K Chen CY Kit and Deng XT  Unsup ervised segmen tation of c hinese cor pus using accessor v ariet y  In IJCNLP  pages  SZ Harris  F rom phoneme to morpheme L anguage  pages  A Kemp e  Exp erimen ts in unsup ervised","en trop ybased corpus segmen tation In Work shop of EA CL in Computational Natur al L an guage L e arning  pages  JK Lo w HT Ng and W Guo  A maxi","m um en trop y approac h to c hinese w ord segmen tation In SIGHAN  M Sun D Shen and B K Tsou  Chi nese w ord segmen tation without using lexicon and handcrafted training data In COLING A CL  K T anak aIshii  En trop y as an indicator of con text b oundaries an exp erimen t using a w eb searc h engine  In IJCNLP  pages  HP  Zhang Y u HY Xiong DY and Q Liu  Hhmmbased c hinese lexical analyzer ict clas In SIGHAN  visited  a v ailable from httpwwwnlporgc n "]},{"title":"435","paragraphs":[]}],"references":[],"cites":[]}
